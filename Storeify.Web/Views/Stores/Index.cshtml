@model StoreViewModel
@inject Microsoft.AspNetCore.Antiforgery.IAntiforgery antiforgery

@{
    ViewData["Title"] = "Store";
}
<div class="alert bg-light-primary border border-primary border-3 border-dashed d-flex justify-content-between w-100 p-5 mb-10">
    <div class="d-flex align-items-center">
        <div class="symbol symbol-40px me-4">
            <div class="symbol-label fs-2 fw-semibold text-success">
                <!--begin::Svg Icon | path: icons/duotune/general/gen002.svg-->
                <span class="svg-icon svg-icon-3x svg-icon-primary">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path opacity="0.3" d="M18 10V20C18 20.6 18.4 21 19 21C19.6 21 20 20.6 20 20V10H18Z" fill="currentColor" />
                        <path opacity="0.3" d="M11 10V17H6V10H4V20C4 20.6 4.4 21 5 21H12C12.6 21 13 20.6 13 20V10H11Z" fill="currentColor" />
                        <path opacity="0.3" d="M10 10C10 11.1 9.1 12 8 12C6.9 12 6 11.1 6 10H10Z" fill="currentColor" />
                        <path opacity="0.3" d="M18 10C18 11.1 17.1 12 16 12C14.9 12 14 11.1 14 10H18Z" fill="currentColor" />
                        <path opacity="0.3" d="M14 4H10V10H14V4Z" fill="currentColor" />
                        <path opacity="0.3" d="M17 4H20L22 10H18L17 4Z" fill="currentColor" />
                        <path opacity="0.3" d="M7 4H4L2 10H6L7 4Z" fill="currentColor" />
                        <path d="M6 10C6 11.1 5.1 12 4 12C2.9 12 2 11.1 2 10H6ZM10 10C10 11.1 10.9 12 12 12C13.1 12 14 11.1 14 10H10ZM18 10C18 11.1 18.9 12 20 12C21.1 12 22 11.1 22 10H18ZM19 2H5C4.4 2 4 2.4 4 3V4H20V3C20 2.4 19.6 2 19 2ZM12 17C12 16.4 11.6 16 11 16H6C5.4 16 5 16.4 5 17C5 17.6 5.4 18 6 18H11C11.6 18 12 17.6 12 17Z" fill="currentColor" />
                    </svg>
                </span>
                <!--end::Svg Icon-->
            </div>
        </div>
        <!--begin::Content-->
        <div class="d-flex flex-column pe-0 pe-sm-10">
            <h3 class="mb-1">Store</h3>
        </div>
        <!--end::Content-->
    </div>
</div>

<div class="card shadow-sm">
    <div class="card-body">
        <form asp-action ="Save" method="post" enctype="multipart/form-data">
            @if (Model?.Id > 0)
            {
                <input type="hidden" asp-for="Id" />
            }
            <!--begin::Image input-->
            <div class="image-input image-input-empty mb-10" data-kt-image-input="true"
                 style="background-image: url('/assets/images/@(string.IsNullOrEmpty(Model.LogoUrl) ? "image-placeholder.jpg" : Model.LogoUrl)');
                background-size: contain;
                background-repeat: no-repeat;
                background-position: center;">
                <!--begin::Image preview wrapper-->
                <div class="image-input-wrapper w-400px h-200px"></div>
                <!--end::Image preview wrapper-->

                <label for="LogoUrl" class="text-muted">Upload your store logo (PNG, JPG, JPEG)</label>

                <!--begin::Edit button-->
                <label class="btn btn-icon btn-circle btn-color-muted btn-active-color-primary w-25px h-25px bg-body shadow"
                       data-kt-image-input-action="change"
                       data-bs-dismiss="click">
                    <i class="bi bi-pencil-fill fs-7"></i>
                    <!--begin::Inputs-->
                    <input type="file" asp-for="Image" accept=".png, .jpg, .jpeg" />
                    <input type="hidden" name="avatar_remove" />
                    <!--end::Inputs-->
                </label>
                <!--end::Edit button-->
                <!--begin::Cancel button-->
                <span class="btn btn-icon btn-circle btn-color-muted btn-active-color-primary w-25px h-25px bg-body shadow"
                      data-kt-image-input-action="cancel"
                      data-bs-dismiss="click">
                    <i class="bi bi-x fs-2"></i>
                </span>
                <!--end::Cancel button-->
                <!--begin::Remove button-->
                <span class="btn btn-icon btn-circle btn-color-muted btn-active-color-primary w-25px h-25px bg-body shadow"
                      data-kt-image-input-action="remove"
                      data-bs-dismiss="click">
                    <i class="bi bi-x fs-2"></i>
                </span>
                <!--end::Remove button-->
            </div>
            <span asp-validation-for="Image" class="text-danger d-block"></span>
            <!--end::Image input-->

            <div class="row">
                <div class="col-md-5">
                    <div class="row">
                        <div class="col">
                            <div class="mb-5">
                                <div class="form-floating mb-2">
                                    <input type="text" class="form-control" placeholder="Store Name" asp-for="Name" />
                                    <label asp-for="Name"></label>
                                </div>
                                <span asp-validation-for="Name" class="text-danger d-block"></span>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <div class="mb-5">
                                <div class="form-floating mb-2">
                                    <input type="tel" class="form-control" placeholder="Store Phone" asp-for="Phone" />
                                    <label asp-for="Phone"></label>
                                </div>
                                <span asp-validation-for="Phone" class="text-danger d-block"></span>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
            <button type="submit" class="btn btn-primary">
                <span class="indicator-label">
                    Save
                </span>
                <span class="indicator-progress">
                    Please wait... <span class="spinner-border spinner-border-sm align-middle ms-2"></span>
                </span>
            </button>
        </form>
    </div>
</div>
<input type="hidden" name="__RequestVerificationToken" value="@antiforgery.GetAndStoreTokens(Context).RequestToken" />

@section Scripts
{
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.15/jquery.mask.min.js"></script>
    <script>
        $(document).ready(function(){
            // Apply phone number mask
            $('input[type="tel"]').mask('(000) 0000-0000');
        });
    </script>
    <partial name="_ValidationScriptsPartial" />
}
